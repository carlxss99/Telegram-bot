var lang = User.getProperty("language") || "en"; // ğŸŒ Obtener el idioma del usuario, predeterminado a inglÃ©s

// Mensajes en diferentes idiomas
var messages = {
    es: {
        notRegistered: "âŒ Primero regÃ­strate usando /register.",
        totalPoints: "ğŸ¯ Tienes un total de %points% puntos. Â¡Sigue visitando enlaces para ganar mÃ¡s!"
    },
    en: {
        notRegistered: "âŒ First, register using /register.",
        totalPoints: "ğŸ¯ You have a total of %points% points. Keep visiting links to earn more!"
    },
    ru: {
        notRegistered: "âŒ Ğ¡Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ° Ğ·Ğ°Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ¸Ñ€ÑƒĞ¹Ñ‚ĞµÑÑŒ Ñ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒÑ /register.",
        totalPoints: "ğŸ¯ Ğ£ Ğ²Ğ°Ñ Ğ²ÑĞµĞ³Ğ¾ %points% Ğ±Ğ°Ğ»Ğ»Ğ¾Ğ². ĞŸÑ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ°Ğ¹Ñ‚Ğµ Ğ¿Ğ¾ÑĞµÑ‰Ğ°Ñ‚ÑŒ ÑÑÑ‹Ğ»ĞºĞ¸, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ·Ğ°Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°Ñ‚ÑŒ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ!"
    },
    hi: { // Hindi ğŸ‡®ğŸ‡³
        notRegistered: "âŒ à¤ªà¤¹à¤²à¥‡ /register à¤•à¤¾ à¤‰à¤ªà¤¯à¥‹à¤— à¤•à¤°à¤•à¥‡ à¤ªà¤‚à¤œà¥€à¤•à¤°à¤£ à¤•à¤°à¥‡à¤‚à¥¤",
        totalPoints: "ğŸ¯ à¤†à¤ªà¤•à¥‡ à¤ªà¤¾à¤¸ à¤•à¥à¤² %points% à¤…à¤‚à¤• à¤¹à¥ˆà¤‚à¥¤ à¤…à¤§à¤¿à¤• à¤•à¤®à¤¾à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤²à¤¿à¤‚à¤• à¤ªà¤° à¤œà¤¾à¤¨à¤¾ à¤œà¤¾à¤°à¥€ à¤°à¤–à¥‡à¤‚!"
    },
    zh: { // Chino simplificado ğŸ‡¨ğŸ‡³
        notRegistered: "âŒ é¦–å…ˆä½¿ç”¨ /register è¿›è¡Œæ³¨å†Œã€‚",
        totalPoints: "ğŸ¯ ä½ æ€»å…±æœ‰ %points% åˆ†ã€‚ç»§ç»­è®¿é—®é“¾æ¥ä»¥èµšå–æ›´å¤šç§¯åˆ†ï¼"
    },
    ja: { // JaponÃ©s ğŸ‡¯ğŸ‡µ
        notRegistered: "âŒ æœ€åˆã«/registerã‚’ä½¿ç”¨ã—ã¦ç™»éŒ²ã—ã¦ãã ã•ã„ã€‚",
        totalPoints: "ğŸ¯ ã‚ãªãŸã¯åˆè¨ˆã§%points%ãƒã‚¤ãƒ³ãƒˆã‚’æŒã£ã¦ã„ã¾ã™ã€‚ã‚‚ã£ã¨ãƒªãƒ³ã‚¯ã‚’è¨ªã‚Œã¦ãƒã‚¤ãƒ³ãƒˆã‚’ç²å¾—ã—ç¶šã‘ã¦ãã ã•ã„ï¼"
    },
    ar: { // Ãrabe ğŸ‡¸ğŸ‡¦
        notRegistered: "âŒ Ø£ÙˆÙ„Ø§Ù‹ØŒ Ø³Ø¬Ù„ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… /register.",
        totalPoints: "ğŸ¯ Ù„Ø¯ÙŠÙƒ Ø¥Ø¬Ù…Ø§Ù„ÙŠ %points% Ù†Ù‚Ø§Ø·. Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ù„ÙƒØ³Ø¨ Ø§Ù„Ù…Ø²ÙŠØ¯!"
    }
};

// Obtener los datos del usuario
var userData = Bot.getProperty("user_" + user.telegramid);

// Verificar si los datos del usuario existen
if (!userData) {
    Bot.sendMessage(messages[lang].notRegistered);
    return;
}

// Verificar si los puntos existen
if (typeof userData.points === "undefined") {
    Bot.sendMessage("âŒ Puntos no definidos.");
    return;
}

// Reemplazar el marcador de puntos en el mensaje
var message = messages[lang].totalPoints.replace("%points%", userData.points);

// Definir los tÃ­tulos de los botones segÃºn el idioma
var buttonTitles = {
    es: "ğŸ”™ Volver al MenÃº",
    en: "ğŸ”™ Back to Menu",
    ru: "ğŸ”™ Ğ’ĞµÑ€Ğ½ÑƒÑ‚ÑŒÑÑ Ğ² Ğ¼ĞµĞ½Ñ",
    hi: "ğŸ”™ à¤®à¥‡à¤¨à¥‚ à¤ªà¤° à¤µà¤¾à¤ªà¤¸ à¤œà¤¾à¤à¤‚",
    zh: "ğŸ”™ è¿”å›èœå•",
    ja: "ğŸ”™ ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«æˆ»ã‚‹",
    ar: "ğŸ”™ Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©"
};

// Crear el teclado inline con el botÃ³n para volver al menÃº
var keyboard = [[{ title: buttonTitles[lang], command: "/start" }]];

// Enviar el mensaje con los puntos y el botÃ³n
Bot.sendInlineKeyboard(keyboard, message);
