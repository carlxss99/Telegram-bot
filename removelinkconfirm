// /removelinkconfirm
var lang = User.getProperty("language") || "en"; // Obtener el idioma del usuario, predeterminado a inglÃ©s
var userData = Bot.getProperty("user_" + user.telegramid) || { links: [] }; // Obtener los datos del usuario

// Obtener el Ã­ndice del enlace a eliminar, restando 1 para ajustarlo
var adIndex = parseInt(params) - 1; // Ajustar el Ã­ndice a 0

// Verificar si el Ã­ndice es vÃ¡lido
var invalidIndexMessages = {
  en: "âŒ Invalid link index.",
  es: "âŒ Ãndice de enlace no vÃ¡lido.",
  ru: "âŒ ĞĞµĞ²ĞµÑ€Ğ½Ñ‹Ğ¹ Ğ¸Ğ½Ğ´ĞµĞºÑ ÑÑÑ‹Ğ»ĞºĞ¸.",
  hi: "âŒ à¤…à¤®à¤¾à¤¨à¥à¤¯ à¤²à¤¿à¤‚à¤• à¤…à¤¨à¥à¤•à¥à¤°à¤®à¤£à¤¿à¤•à¤¾à¥¤",
  zh: "âŒ æ— æ•ˆçš„é“¾æ¥ç´¢å¼•ã€‚",
  ja: "âŒ ç„¡åŠ¹ãªãƒªãƒ³ã‚¯ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã§ã™ã€‚",
  ar: "âŒ ÙÙ‡Ø±Ø³ Ø§Ù„Ø±Ø§Ø¨Ø· ØºÙŠØ± ØµØ§Ù„Ø­."
};

if (isNaN(adIndex) || adIndex < 0 || adIndex >= userData.links.length) {
  Bot.sendMessage(invalidIndexMessages[lang]);
  return;
}

// Eliminar el enlace
userData.links.splice(adIndex, 1); // Eliminar el enlace en el Ã­ndice proporcionado
Bot.setProperty("user_" + user.telegramid, userData, "json"); // Guardar la lista actualizada

// Mensaje de confirmaciÃ³n
var confirmationMessages = {
  en: "âœ… The link has been successfully removed.",
  es: "âœ… El enlace ha sido eliminado con Ã©xito.",
  ru: "âœ… Ğ¡ÑÑ‹Ğ»ĞºĞ° Ğ±Ñ‹Ğ»Ğ° ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ ÑƒĞ´Ğ°Ğ»ĞµĞ½Ğ°.",
  hi: "âœ… à¤²à¤¿à¤‚à¤• à¤¸à¤«à¤²à¤¤à¤¾à¤ªà¥‚à¤°à¥à¤µà¤• à¤¹à¤Ÿà¤¾ à¤¦à¤¿à¤¯à¤¾ à¤—à¤¯à¤¾ à¤¹à¥ˆà¥¤",
  zh: "âœ… é“¾æ¥å·²æˆåŠŸåˆ é™¤ã€‚",
  ja: "âœ… ãƒªãƒ³ã‚¯ãŒæ­£å¸¸ã«å‰Šé™¤ã•ã‚Œã¾ã—ãŸã€‚",
  ar: "âœ… ØªÙ… Ø­Ø°Ù Ø§Ù„Ø±Ø§Ø¨Ø· Ø¨Ù†Ø¬Ø§Ø­."
};

Bot.sendMessage(confirmationMessages[lang]);

// Enviar botÃ³n para volver al menÃº
var menuButton = [
  [
    {
      title:
        lang === "en"
          ? "ğŸ  Back to Menu"
          : lang === "es"
          ? "ğŸ  Volver al MenÃº"
          : lang === "ru"
          ? "ğŸ  ĞĞ°Ğ·Ğ°Ğ´ Ğ² Ğ¼ĞµĞ½Ñ"
          : lang === "hi"
          ? "ğŸ  à¤®à¥‡à¤¨à¥‚ à¤ªà¤° à¤µà¤¾à¤ªà¤¸ à¤œà¤¾à¤à¤‚"
          : lang === "zh"
          ? "ğŸ  è¿”å›èœå•"
          : lang === "ja"
          ? "ğŸ  ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«æˆ»ã‚‹"
          : "ğŸ  Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©", // Ãrabe
      command: "/start" // Comando para volver al menÃº
    }
  ]
];

// Mensaje opcional despuÃ©s de la confirmaciÃ³n
var optionMessage = {
  en: "ğŸŒŸ Choose an option:",
  es: "ğŸŒŸ Elige una opciÃ³n:",
  ru: "ğŸŒŸ Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚:",
  hi: "ğŸŒŸ à¤à¤• à¤µà¤¿à¤•à¤²à¥à¤ª à¤šà¥à¤¨à¥‡à¤‚:",
  zh: "ğŸŒŸ é€‰æ‹©ä¸€ä¸ªé€‰é¡¹ï¼š",
  ja: "ğŸŒŸ ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’é¸æŠã—ã¦ãã ã•ã„ï¼š",
  ar: "ğŸŒŸ Ø§Ø®ØªØ± Ø®ÙŠØ§Ø±Ù‹Ø§:"
};

// Enviar el botÃ³n despuÃ©s del mensaje de confirmaciÃ³n
Bot.sendInlineKeyboard(menuButton, optionMessage[lang]);
